<h2>Results</h2>
<br><br>
<div class="modal fade" id="detailModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Detail of John Carrot</h4>
      </div>
      <div class="modal-body">
        <pre>
          Name: {{info.firstName}}
          Surname: {{info.lastName}}
          Email: {{info.email}}
          Test: {{info.testName}}
          Time and date: {{info.date | date:'medium'}}
          Result: {{info.succesRate}} %
          Total time: {{info.totalTime}} seconds
        </pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="getPdf(info.id)">Export to PDF</button>
        <button type="button" class="btn btn-default" ng-click="hideModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<label for="filterInput">Filter</label>
<input type="text" class="form-control" id="filterInput" ng-model="search">
<table class="table table-striped" ng-init="order = 'name'; reverse = false">
  <thead>
  <tr>
    <th><span ng-click="order == 'name' ? (reverse == true ? reverse = false : reverse = true) : order = 'name'">
      First name
      <span ng-show="order == 'name' && reverse == false" class="glyphicon glyphicon-chevron-down"></span>
      <span ng-show="order == 'name' && reverse == true" class="glyphicon glyphicon-chevron-up"></span>
    </span></th>
    <th><span ng-click="order == 'surname' ? (reverse == true ? reverse = false : reverse = true) : order = 'surname'">
      Surname
      <span ng-show="order == 'surname' && reverse == false" class="glyphicon glyphicon-chevron-down"></span>
      <span ng-show="order == 'surname' && reverse == true" class="glyphicon glyphicon-chevron-up"></span>
    </span></th>
    <th><span ng-click="order == 'email' ? (reverse == true ? reverse = false : reverse = true) : order = 'email'">
      Email
      <span ng-show="order == 'email' && reverse == false" class="glyphicon glyphicon-chevron-down"></span>
      <span ng-show="order == 'email' && reverse == true" class="glyphicon glyphicon-chevron-up"></span>
    </span></th>
    <th><span ng-click="order == 'testName' ? (reverse == true ? reverse = false : reverse = true) : order = 'testName'">
      Test
      <span ng-show="order == 'testName' && reverse == false" class="glyphicon glyphicon-chevron-down"></span>
      <span ng-show="order == 'testName' && reverse == true" class="glyphicon glyphicon-chevron-up"></span>
    </span></th>
    <th><span ng-click="order == 'result' ? (reverse == true ? reverse = false : reverse = true) : order = 'result'">
      Result
      <span ng-show="order == 'result' && reverse == false" class="glyphicon glyphicon-chevron-down"></span>
      <span ng-show="order == 'result' && reverse == true" class="glyphicon glyphicon-chevron-up"></span>
    </span></th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="result in results | filter: search | orderBy: order: reverse">
    <td>{{result.firstName}}</td>
    <td>{{result.lastName}}</td>
    <td>{{result.email}}</td>
    <td>{{result.testName}}</td>
    <td>{{result.succesRate}} %</td>
    <td>
      <span ng-click="showModal(result);" class="glyphicon glyphicon-info-sign"></span>
      <span ng-click="getPdf(result.id)" class="glyphicon glyphicon-arrow-down"></span>
    </td>
  </tr>

  </tbody>
</table>
